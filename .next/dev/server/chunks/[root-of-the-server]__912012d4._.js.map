{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kuziv/Desktop/Desktop%20Folders/Client%20Projects/MVp/mvp-web-agency/app/api/admin/diagnostics/ui/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server'\r\nimport fs from 'fs'\r\nimport path from 'path'\r\n\r\nexport async function GET() {\r\n  const issues: any[] = []\r\n  const warnings: any[] = []\r\n\r\n  try {\r\n    // 1. Check if critical component files exist\r\n    const criticalFiles = [\r\n      'components/admin/sidebar.tsx',\r\n      'components/admin/top-nav.tsx',\r\n      'components/admin/admin-layout.tsx',\r\n      'lib/stores/layout-store.ts',\r\n      'app/admin/dashboard/page.tsx',\r\n      'app/admin/leads/page.tsx',\r\n      'app/admin/analytics/page.tsx',\r\n    ]\r\n\r\n    for (const file of criticalFiles) {\r\n      const filePath = path.join(process.cwd(), file)\r\n      if (!fs.existsSync(filePath)) {\r\n        issues.push({\r\n          severity: 'critical',\r\n          type: 'missing_file',\r\n          file,\r\n          issue: 'Critical component file missing',\r\n        })\r\n      }\r\n    }\r\n\r\n    // 2. Check globals.css\r\n    const globalsPath = path.join(process.cwd(), 'app/globals.css')\r\n    if (fs.existsSync(globalsPath)) {\r\n      const content = fs.readFileSync(globalsPath, 'utf-8')\r\n\r\n      // Check for dark mode styles\r\n      if (content.includes('.dark') || content.includes('dark:')) {\r\n        warnings.push({\r\n          severity: 'warning',\r\n          type: 'styling',\r\n          file: 'app/globals.css',\r\n          issue: 'Dark mode styles detected (may cause mixed light/dark UI)',\r\n        })\r\n      }\r\n    }\r\n\r\n    // 3. Check package.json for required dependencies\r\n    const packagePath = path.join(process.cwd(), 'package.json')\r\n    if (fs.existsSync(packagePath)) {\r\n      const packageJson = JSON.parse(fs.readFileSync(packagePath, 'utf-8'))\r\n      const requiredDeps = [\r\n        'zustand',\r\n        'framer-motion',\r\n        '@tanstack/react-table',\r\n        'apexcharts',\r\n        'react-apexcharts',\r\n        '@hello-pangea/dnd',\r\n      ]\r\n\r\n      for (const dep of requiredDeps) {\r\n        if (!packageJson.dependencies?.[dep]) {\r\n          issues.push({\r\n            severity: 'error',\r\n            type: 'missing_dependency',\r\n            package: dep,\r\n            issue: `Required package \"${dep}\" not installed`,\r\n          })\r\n        }\r\n      }\r\n    }\r\n\r\n    return NextResponse.json({\r\n      status: 'complete',\r\n      summary: {\r\n        totalIssues: issues.length,\r\n        totalWarnings: warnings.length,\r\n      },\r\n      issues,\r\n      warnings,\r\n      timestamp: new Date().toISOString(),\r\n    })\r\n\r\n  } catch (error: any) {\r\n    return NextResponse.json({\r\n      status: 'error',\r\n      error: error.message,\r\n    }, { status: 500 })\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,eAAe;IACpB,MAAM,SAAgB,EAAE;IACxB,MAAM,WAAkB,EAAE;IAE1B,IAAI;QACF,6CAA6C;QAC7C,MAAM,gBAAgB;YACpB;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QAED,KAAK,MAAM,QAAQ,cAAe;YAChC,MAAM,WAAW,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;YAC1C,IAAI,CAAC,wGAAE,CAAC,UAAU,CAAC,WAAW;gBAC5B,OAAO,IAAI,CAAC;oBACV,UAAU;oBACV,MAAM;oBACN;oBACA,OAAO;gBACT;YACF;QACF;QAEA,uBAAuB;QACvB,MAAM,cAAc,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;QAC7C,IAAI,wGAAE,CAAC,UAAU,CAAC,cAAc;YAC9B,MAAM,UAAU,wGAAE,CAAC,YAAY,CAAC,aAAa;YAE7C,6BAA6B;YAC7B,IAAI,QAAQ,QAAQ,CAAC,YAAY,QAAQ,QAAQ,CAAC,UAAU;gBAC1D,SAAS,IAAI,CAAC;oBACZ,UAAU;oBACV,MAAM;oBACN,MAAM;oBACN,OAAO;gBACT;YACF;QACF;QAEA,kDAAkD;QAClD,MAAM,cAAc,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;QAC7C,IAAI,wGAAE,CAAC,UAAU,CAAC,cAAc;YAC9B,MAAM,cAAc,KAAK,KAAK,CAAC,wGAAE,CAAC,YAAY,CAAC,aAAa;YAC5D,MAAM,eAAe;gBACnB;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YAED,KAAK,MAAM,OAAO,aAAc;gBAC9B,IAAI,CAAC,YAAY,YAAY,EAAE,CAAC,IAAI,EAAE;oBACpC,OAAO,IAAI,CAAC;wBACV,UAAU;wBACV,MAAM;wBACN,SAAS;wBACT,OAAO,CAAC,kBAAkB,EAAE,IAAI,eAAe,CAAC;oBAClD;gBACF;YACF;QACF;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,QAAQ;YACR,SAAS;gBACP,aAAa,OAAO,MAAM;gBAC1B,eAAe,SAAS,MAAM;YAChC;YACA;YACA;YACA,WAAW,IAAI,OAAO,WAAW;QACnC;IAEF,EAAE,OAAO,OAAY;QACnB,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,QAAQ;YACR,OAAO,MAAM,OAAO;QACtB,GAAG;YAAE,QAAQ;QAAI;IACnB;AACF"}}]
}