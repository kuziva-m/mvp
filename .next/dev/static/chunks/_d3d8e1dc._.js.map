{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kuziv/Desktop/Desktop%20Folders/Client%20Projects/MVp/mvp-web-agency/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-header\"\r\n      className={cn(\r\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-title\"\r\n      className={cn(\"leading-none font-semibold\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-description\"\r\n      className={cn(\"text-muted-foreground text-sm\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-action\"\r\n      className={cn(\r\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-content\"\r\n      className={cn(\"px-6\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-footer\"\r\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardAction,\r\n  CardDescription,\r\n  CardContent,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kuziv/Desktop/Desktop%20Folders/Client%20Projects/MVp/mvp-web-agency/components/admin/apex-chart.tsx"],"sourcesContent":["'use client'\r\n\r\nimport dynamic from 'next/dynamic'\r\nimport { ApexOptions } from 'apexcharts'\r\n\r\nconst Chart = dynamic(() => import('react-apexcharts'), { ssr: false })\r\n\r\ninterface ApexChartProps {\r\n  type: 'line' | 'area' | 'bar' | 'pie' | 'donut' | 'radialBar'\r\n  series: ApexAxisChartSeries | ApexNonAxisChartSeries\r\n  options: ApexOptions\r\n  height?: number | string\r\n}\r\n\r\nexport function ApexChart({ type, series, options, height = 350 }: ApexChartProps) {\r\n  return (\r\n    <Chart\r\n      type={type}\r\n      series={series}\r\n      options={options}\r\n      height={height}\r\n    />\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;;AAFA;;;AAKA,MAAM,QAAQ,IAAA,6KAAO,EAAC;;;;;;IAAoC,KAAK;;KAAzD;AASC,SAAS,UAAU,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,GAAG,EAAkB;IAC/E,qBACE,6LAAC;QACC,MAAM;QACN,QAAQ;QACR,SAAS;QACT,QAAQ;;;;;;AAGd;MATgB"}},
    {"offset": {"line": 166, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kuziv/Desktop/Desktop%20Folders/Client%20Projects/MVp/mvp-web-agency/components/admin/kanban-board.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { DragDropContext, Droppable, Draggable, DropResult } from '@hello-pangea/dnd'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { Card } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { GripVertical } from 'lucide-react'\r\nimport { cn } from '@/lib/utils'\r\n\r\ninterface KanbanItem {\r\n  id: string\r\n  title: string\r\n  description?: string\r\n  badge?: string\r\n  metadata?: Record<string, any>\r\n}\r\n\r\ninterface KanbanColumn {\r\n  id: string\r\n  title: string\r\n  color: string\r\n  items: KanbanItem[]\r\n}\r\n\r\ninterface KanbanBoardProps {\r\n  columns: KanbanColumn[]\r\n  onDragEnd: (result: DropResult) => void\r\n  onItemClick?: (item: KanbanItem) => void\r\n  renderItem?: (item: KanbanItem) => React.ReactNode\r\n}\r\n\r\nexport function KanbanBoard({\r\n  columns,\r\n  onDragEnd,\r\n  onItemClick,\r\n  renderItem,\r\n}: KanbanBoardProps) {\r\n  const [draggingItemId, setDraggingItemId] = useState<string | null>(null)\r\n\r\n  const handleDragStart = (result: any) => {\r\n    setDraggingItemId(result.draggableId)\r\n  }\r\n\r\n  const handleDragEnd = (result: DropResult) => {\r\n    setDraggingItemId(null)\r\n    onDragEnd(result)\r\n  }\r\n\r\n  return (\r\n    <DragDropContext onDragStart={handleDragStart} onDragEnd={handleDragEnd}>\r\n      <div className=\"flex gap-4 overflow-x-auto pb-4\">\r\n        {columns.map((column) => (\r\n          <div key={column.id} className=\"flex-shrink-0 w-80\">\r\n            {/* Column Header */}\r\n            <div className={cn('rounded-lg p-3 mb-2', column.color)}>\r\n              <div className=\"flex items-center justify-between\">\r\n                <h3 className=\"font-semibold text-gray-900\">{column.title}</h3>\r\n                <Badge variant=\"secondary\" className=\"bg-white/80\">\r\n                  {column.items.length}\r\n                </Badge>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Droppable Area */}\r\n            <Droppable droppableId={column.id}>\r\n              {(provided, snapshot) => (\r\n                <div\r\n                  ref={provided.innerRef}\r\n                  {...provided.droppableProps}\r\n                  className={cn(\r\n                    'min-h-[400px] rounded-lg p-2 transition-colors',\r\n                    snapshot.isDraggingOver ? 'bg-blue-50 ring-2 ring-blue-300' : 'bg-gray-50'\r\n                  )}\r\n                >\r\n                  <AnimatePresence mode=\"popLayout\">\r\n                    {column.items.map((item, index) => (\r\n                      <Draggable key={item.id} draggableId={item.id} index={index}>\r\n                        {(provided, snapshot) => (\r\n                          <motion.div\r\n                            ref={provided.innerRef}\r\n                            {...provided.draggableProps}\r\n                            layout\r\n                            initial={{ opacity: 0, scale: 0.9 }}\r\n                            animate={{ opacity: 1, scale: 1 }}\r\n                            exit={{ opacity: 0, scale: 0.9 }}\r\n                            transition={{ duration: 0.2 }}\r\n                          >\r\n                            <Card\r\n                              className={cn(\r\n                                'mb-2 cursor-move border-0 shadow-sm hover:shadow-md transition-all',\r\n                                snapshot.isDragging && 'shadow-lg ring-2 ring-blue-400 rotate-2',\r\n                                draggingItemId === item.id && 'opacity-50'\r\n                              )}\r\n                              onClick={() => onItemClick?.(item)}\r\n                            >\r\n                              <div className=\"p-4\">\r\n                                {/* Drag Handle */}\r\n                                <div\r\n                                  {...provided.dragHandleProps}\r\n                                  className=\"flex items-start gap-2 mb-2\"\r\n                                >\r\n                                  <GripVertical className=\"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0\" />\r\n                                  <div className=\"flex-1 min-w-0\">\r\n                                    {renderItem ? (\r\n                                      renderItem(item)\r\n                                    ) : (\r\n                                      <>\r\n                                        <h4 className=\"font-medium text-gray-900 text-sm truncate\">\r\n                                          {item.title}\r\n                                        </h4>\r\n                                        {item.description && (\r\n                                          <p className=\"text-xs text-gray-600 mt-1 line-clamp-2\">\r\n                                            {item.description}\r\n                                          </p>\r\n                                        )}\r\n                                        {item.badge && (\r\n                                          <Badge variant=\"outline\" className=\"mt-2 text-xs\">\r\n                                            {item.badge}\r\n                                          </Badge>\r\n                                        )}\r\n                                      </>\r\n                                    )}\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </Card>\r\n                          </motion.div>\r\n                        )}\r\n                      </Draggable>\r\n                    ))}\r\n                  </AnimatePresence>\r\n                  {provided.placeholder}\r\n\r\n                  {/* Empty State */}\r\n                  {column.items.length === 0 && !snapshot.isDraggingOver && (\r\n                    <motion.div\r\n                      initial={{ opacity: 0 }}\r\n                      animate={{ opacity: 1 }}\r\n                      className=\"flex items-center justify-center h-32 text-sm text-gray-400\"\r\n                    >\r\n                      Drop items here\r\n                    </motion.div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </Droppable>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </DragDropContext>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;;AAgCO,SAAS,YAAY,EAC1B,OAAO,EACP,SAAS,EACT,WAAW,EACX,UAAU,EACO;;IACjB,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAgB;IAEpE,MAAM,kBAAkB,CAAC;QACvB,kBAAkB,OAAO,WAAW;IACtC;IAEA,MAAM,gBAAgB,CAAC;QACrB,kBAAkB;QAClB,UAAU;IACZ;IAEA,qBACE,6LAAC,oLAAe;QAAC,aAAa;QAAiB,WAAW;kBACxD,cAAA,6LAAC;YAAI,WAAU;sBACZ,QAAQ,GAAG,CAAC,CAAC,uBACZ,6LAAC;oBAAoB,WAAU;;sCAE7B,6LAAC;4BAAI,WAAW,IAAA,qHAAE,EAAC,uBAAuB,OAAO,KAAK;sCACpD,cAAA,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAG,WAAU;kDAA+B,OAAO,KAAK;;;;;;kDACzD,6LAAC,sIAAK;wCAAC,SAAQ;wCAAY,WAAU;kDAClC,OAAO,KAAK,CAAC,MAAM;;;;;;;;;;;;;;;;;sCAM1B,6LAAC,8KAAS;4BAAC,aAAa,OAAO,EAAE;sCAC9B,CAAC,UAAU,yBACV,6LAAC;oCACC,KAAK,SAAS,QAAQ;oCACrB,GAAG,SAAS,cAAc;oCAC3B,WAAW,IAAA,qHAAE,EACX,kDACA,SAAS,cAAc,GAAG,oCAAoC;;sDAGhE,6LAAC,+MAAe;4CAAC,MAAK;sDACnB,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,sBACvB,6LAAC,8KAAS;oDAAe,aAAa,KAAK,EAAE;oDAAE,OAAO;8DACnD,CAAC,UAAU,yBACV,6LAAC,uMAAM,CAAC,GAAG;4DACT,KAAK,SAAS,QAAQ;4DACrB,GAAG,SAAS,cAAc;4DAC3B,MAAM;4DACN,SAAS;gEAAE,SAAS;gEAAG,OAAO;4DAAI;4DAClC,SAAS;gEAAE,SAAS;gEAAG,OAAO;4DAAE;4DAChC,MAAM;gEAAE,SAAS;gEAAG,OAAO;4DAAI;4DAC/B,YAAY;gEAAE,UAAU;4DAAI;sEAE5B,cAAA,6LAAC,oIAAI;gEACH,WAAW,IAAA,qHAAE,EACX,sEACA,SAAS,UAAU,IAAI,2CACvB,mBAAmB,KAAK,EAAE,IAAI;gEAEhC,SAAS,IAAM,cAAc;0EAE7B,cAAA,6LAAC;oEAAI,WAAU;8EAEb,cAAA,6LAAC;wEACE,GAAG,SAAS,eAAe;wEAC5B,WAAU;;0FAEV,6LAAC,yOAAY;gFAAC,WAAU;;;;;;0FACxB,6LAAC;gFAAI,WAAU;0FACZ,aACC,WAAW,sBAEX;;sGACE,6LAAC;4FAAG,WAAU;sGACX,KAAK,KAAK;;;;;;wFAEZ,KAAK,WAAW,kBACf,6LAAC;4FAAE,WAAU;sGACV,KAAK,WAAW;;;;;;wFAGpB,KAAK,KAAK,kBACT,6LAAC,sIAAK;4FAAC,SAAQ;4FAAU,WAAU;sGAChC,KAAK,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;mDAzCjB,KAAK,EAAE;;;;;;;;;;wCAuD1B,SAAS,WAAW;wCAGpB,OAAO,KAAK,CAAC,MAAM,KAAK,KAAK,CAAC,SAAS,cAAc,kBACpD,6LAAC,uMAAM,CAAC,GAAG;4CACT,SAAS;gDAAE,SAAS;4CAAE;4CACtB,SAAS;gDAAE,SAAS;4CAAE;4CACtB,WAAU;sDACX;;;;;;;;;;;;;;;;;;mBAvFD,OAAO,EAAE;;;;;;;;;;;;;;;AAmG7B;GAxHgB;KAAA"}},
    {"offset": {"line": 408, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kuziv/Desktop/Desktop%20Folders/Client%20Projects/MVp/mvp-web-agency/app/admin/dashboard/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { ApexChart } from \"@/components/admin/apex-chart\";\r\nimport { KanbanBoard } from \"@/components/admin/kanban-board\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  TrendingUp,\r\n  Users,\r\n  DollarSign,\r\n  Globe,\r\n  Mail,\r\n  ArrowUpRight,\r\n  Clock,\r\n} from \"lucide-react\";\r\nimport { ApexOptions } from \"apexcharts\";\r\nimport { DropResult } from \"@hello-pangea/dnd\";\r\n\r\nexport default function DashboardPage() {\r\n  const [metrics, setMetrics] = useState<any>(null);\r\n  const [recentActivity, setRecentActivity] = useState<any[]>([]);\r\n  const [pipelineData, setPipelineData] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchAllData();\r\n  }, []);\r\n\r\n  async function fetchAllData() {\r\n    try {\r\n      const [metricsRes, leadsRes] = await Promise.all([\r\n        fetch(\"/api/admin/metrics\"),\r\n        // FIX: Point to the new secure Admin API, not the public one\r\n        fetch(\"/api/admin/leads\"),\r\n      ]);\r\n\r\n      const metricsData = await metricsRes.json();\r\n      const leadsData = await leadsRes.json();\r\n\r\n      setMetrics(metricsData);\r\n\r\n      // Build pipeline from leads\r\n      const leads = leadsData.leads || [];\r\n\r\n      const pipeline = [\r\n        {\r\n          id: \"pending\",\r\n          title: \"New Leads\",\r\n          color: \"gray\",\r\n          items: leads\r\n            .filter((l: any) => l.status === \"pending\")\r\n            .slice(0, 5)\r\n            .map((l: any) => ({\r\n              id: l.id,\r\n              title: l.business_name,\r\n              description: l.email,\r\n              metadata: { score: l.quality_score || 0 },\r\n            })),\r\n        },\r\n        {\r\n          id: \"generated\",\r\n          title: \"Website Ready\",\r\n          color: \"blue\",\r\n          items: leads\r\n            .filter((l: any) => l.status === \"generated\")\r\n            .slice(0, 5)\r\n            .map((l: any) => ({\r\n              id: l.id,\r\n              title: l.business_name,\r\n              description: l.email,\r\n              metadata: { industry: l.industry },\r\n            })),\r\n        },\r\n        {\r\n          id: \"contacted\",\r\n          title: \"Email Sent\",\r\n          color: \"purple\",\r\n          items: leads\r\n            .filter((l: any) => l.status === \"contacted\")\r\n            .slice(0, 5)\r\n            .map((l: any) => ({\r\n              id: l.id,\r\n              title: l.business_name,\r\n              description: l.email,\r\n              metadata: { sent: \"Email sent\" },\r\n            })),\r\n        },\r\n        {\r\n          id: \"subscribed\",\r\n          title: \"Paid Customer\",\r\n          color: \"green\",\r\n          items: leads\r\n            .filter(\r\n              (l: any) => l.status === \"subscribed\" || l.status === \"delivered\"\r\n            )\r\n            .slice(0, 5)\r\n            .map((l: any) => ({\r\n              id: l.id,\r\n              title: l.business_name,\r\n              description: l.email,\r\n              metadata: { mrr: \"$99\" },\r\n            })),\r\n        },\r\n      ];\r\n\r\n      setPipelineData(pipeline);\r\n\r\n      // Build recent activity\r\n      const activities = [\r\n        ...leads\r\n          .filter((l: any) => l.created_at)\r\n          .slice(0, 2)\r\n          .map((l: any) => ({\r\n            icon: Users,\r\n            label: \"New lead added\",\r\n            detail: l.business_name,\r\n            time: getRelativeTime(l.created_at),\r\n            color: \"blue\",\r\n          })),\r\n        ...leads\r\n          .filter((l: any) => l.status === \"generated\")\r\n          .slice(0, 2)\r\n          .map((l: any) => ({\r\n            icon: Globe,\r\n            label: \"Website generated\",\r\n            detail: l.business_name,\r\n            time: getRelativeTime(l.updated_at || l.created_at),\r\n            color: \"purple\",\r\n          })),\r\n        ...leads\r\n          .filter((l: any) => l.email_sent_at)\r\n          .slice(0, 2)\r\n          .map((l: any) => ({\r\n            icon: Mail,\r\n            label: \"Email sent\",\r\n            detail: l.business_name,\r\n            time: getRelativeTime(l.email_sent_at),\r\n            color: \"green\",\r\n          })),\r\n        ...leads\r\n          .filter((l: any) => l.status === \"subscribed\")\r\n          .slice(0, 2)\r\n          .map((l: any) => ({\r\n            icon: DollarSign,\r\n            label: \"Payment received\",\r\n            detail: `$99 from ${l.business_name}`,\r\n            time: getRelativeTime(l.updated_at || l.created_at),\r\n            color: \"orange\",\r\n          })),\r\n      ]\r\n        .sort((a, b) => new Date(b.time).getTime() - new Date(a.time).getTime())\r\n        .slice(0, 6);\r\n\r\n      setRecentActivity(\r\n        activities.length > 0\r\n          ? activities\r\n          : [\r\n              {\r\n                icon: Clock,\r\n                label: \"No recent activity\",\r\n                detail: \"Get started by adding leads\",\r\n                time: \"Just now\",\r\n                color: \"gray\",\r\n              },\r\n            ]\r\n      );\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch dashboard data:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  function getRelativeTime(timestamp: string) {\r\n    const now = new Date();\r\n    const then = new Date(timestamp);\r\n    const diffMs = now.getTime() - then.getTime();\r\n    const diffMins = Math.floor(diffMs / 60000);\r\n    const diffHours = Math.floor(diffMs / 3600000);\r\n    const diffDays = Math.floor(diffMs / 86400000);\r\n\r\n    if (diffMins < 1) return \"Just now\";\r\n    if (diffMins < 60) return `${diffMins} min${diffMins > 1 ? \"s\" : \"\"} ago`;\r\n    if (diffHours < 24)\r\n      return `${diffHours} hour${diffHours > 1 ? \"s\" : \"\"} ago`;\r\n    return `${diffDays} day${diffDays > 1 ? \"s\" : \"\"} ago`;\r\n  }\r\n\r\n  async function handleKanbanDragEnd(result: DropResult) {\r\n    if (!result.destination) return;\r\n\r\n    const leadId = result.draggableId;\r\n    const newStatus = result.destination.droppableId;\r\n\r\n    await fetch(`/api/leads/${leadId}`, {\r\n      method: \"PATCH\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ status: newStatus }),\r\n    });\r\n\r\n    fetchAllData();\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-96\">\r\n        <div className=\"animate-spin w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const revenueOptions: ApexOptions = {\r\n    chart: { toolbar: { show: false }, fontFamily: \"Inter, sans-serif\" },\r\n    colors: [\"#3b82f6\"],\r\n    stroke: { curve: \"smooth\", width: 3 },\r\n    fill: { type: \"gradient\", gradient: { opacityFrom: 0.7, opacityTo: 0.2 } },\r\n    dataLabels: { enabled: false },\r\n    grid: { borderColor: \"#f1f5f9\" },\r\n    xaxis: { categories: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\"] },\r\n    yaxis: { labels: { formatter: (val) => `$${val}` } },\r\n  };\r\n\r\n  const revenueSeries = [\r\n    { name: \"Revenue\", data: [0, 0, 99, 99, 99, metrics?.totalRevenue || 297] },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold\">Dashboard</h1>\r\n          <p className=\"text-gray-600 mt-1\">\r\n            Welcome back! Here's your business overview.\r\n          </p>\r\n        </div>\r\n        <Button className=\"gap-2\">\r\n          <ArrowUpRight className=\"w-4 h-4\" />\r\n          View Full Report\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Metric Cards */}\r\n      <div className=\"grid md:grid-cols-4 gap-6\">\r\n        <Card className=\"border-0 shadow-md\">\r\n          <CardContent className=\"p-6\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <div className=\"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center\">\r\n                <Users className=\"w-6 h-6 text-blue-600\" />\r\n              </div>\r\n              <span className=\"text-sm font-medium text-green-600\">+12%</span>\r\n            </div>\r\n            <div className=\"text-3xl font-bold\">{metrics?.totalLeads || 0}</div>\r\n            <div className=\"text-sm text-gray-600 mt-1\">Total Leads</div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"border-0 shadow-md\">\r\n          <CardContent className=\"p-6\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <div className=\"w-12 h-12 rounded-xl bg-purple-100 flex items-center justify-center\">\r\n                <TrendingUp className=\"w-6 h-6 text-purple-600\" />\r\n              </div>\r\n              <span className=\"text-sm font-medium text-green-600\">+2.5%</span>\r\n            </div>\r\n            <div className=\"text-3xl font-bold\">\r\n              {metrics?.conversionRate || 0}%\r\n            </div>\r\n            <div className=\"text-sm text-gray-600 mt-1\">Conversion Rate</div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"border-0 shadow-md\">\r\n          <CardContent className=\"p-6\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <div className=\"w-12 h-12 rounded-xl bg-green-100 flex items-center justify-center\">\r\n                <DollarSign className=\"w-6 h-6 text-green-600\" />\r\n              </div>\r\n              <span className=\"text-sm font-medium text-green-600\">+18%</span>\r\n            </div>\r\n            <div className=\"text-3xl font-bold\">\r\n              ${metrics?.totalRevenue || 0}\r\n            </div>\r\n            <div className=\"text-sm text-gray-600 mt-1\">MRR</div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"border-0 shadow-md\">\r\n          <CardContent className=\"p-6\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <div className=\"w-12 h-12 rounded-xl bg-orange-100 flex items-center justify-center\">\r\n                <Globe className=\"w-6 h-6 text-orange-600\" />\r\n              </div>\r\n              <span className=\"text-sm font-medium text-green-600\">\r\n                +{metrics?.activeCustomers || 0}\r\n              </span>\r\n            </div>\r\n            <div className=\"text-3xl font-bold\">\r\n              {metrics?.activeCustomers || 0}\r\n            </div>\r\n            <div className=\"text-sm text-gray-600 mt-1\">Active Customers</div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Revenue Chart */}\r\n      <Card className=\"border-0 shadow-lg\">\r\n        <CardHeader>\r\n          <CardTitle>Revenue Growth</CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <ApexChart\r\n            type=\"area\"\r\n            series={revenueSeries}\r\n            options={revenueOptions}\r\n            height={300}\r\n          />\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Pipeline */}\r\n      <div>\r\n        <h2 className=\"text-xl font-bold mb-4\">Pipeline</h2>\r\n        {pipelineData.length > 0 && (\r\n          <KanbanBoard columns={pipelineData} onDragEnd={handleKanbanDragEnd} />\r\n        )}\r\n      </div>\r\n\r\n      {/* Recent Activity */}\r\n      <Card className=\"border-0 shadow-lg\">\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Clock className=\"w-5 h-5\" />\r\n            Recent Activity\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"space-y-4\">\r\n            {recentActivity.map((activity, index) => {\r\n              const Icon = activity.icon;\r\n              return (\r\n                <div\r\n                  key={index}\r\n                  className=\"flex items-center gap-4 p-3 rounded-lg hover:bg-gray-50 transition-colors\"\r\n                >\r\n                  <div\r\n                    className={`w-10 h-10 rounded-lg bg-${activity.color}-100 flex items-center justify-center flex-shrink-0`}\r\n                  >\r\n                    <Icon className={`w-5 h-5 text-${activity.color}-600`} />\r\n                  </div>\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"font-medium text-sm\">{activity.label}</div>\r\n                    <div className=\"text-sm text-gray-500\">\r\n                      {activity.detail}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-xs text-gray-400\">{activity.time}</div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}